(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,r=function(t,i){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(r)?r:String(r)),o)}var r}var i=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._form=i,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._submitButton=this._form.querySelector(this._config.submitButtonSelector),this._email=this._form.querySelector("#id_e_mail")}var i,n;return i=e,(n=[{key:"_showEmailError",value:function(e){switch(!0){case this._email.validity.valueMissing:e.textContent="Заполните это поле";break;case this._email.validity.patternMismatch:case this._email.validity.typeMismatch:e.textContent="Email-адрес должен соответствовать действительному формату"}}},{key:"_showTextError",value:function(e,t){switch(!0){case e.validity.valueMissing:t.textContent=this._config.errorConfig[e.name].valueMissing;break;case e.validity.patternMismatch:case e.validity.typeMismatch:t.textContent=this._config.errorConfig[e.name].patternMismatch}}},{key:"_showInputError",value:function(e,t){var i=this._form.querySelector(".".concat(e.name,"-error"));e.classList.add(this._config.inputErrorClass),i.classList.add(this._config.errorClass),e===this._email?this._showEmailError(i):this._showTextError(e,i),i.style.height="".concat(i.scrollHeight+4,"px")}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector(".".concat(e.name,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent="",t.style.height="0px"}},{key:"_isValid",value:function(e,t){return e.validity.valid?this._hideInputError(e):this._showInputError(e,t)}},{key:"_deactivateSubmitButton",value:function(){this._submitButton.classList.add(this._config.inactiveButtonClass),this._submitButton.setAttribute("disabled","")}},{key:"_activateSubmitButton",value:function(){this._submitButton.classList.remove(this._config.inactiveButtonClass),this._submitButton.removeAttribute("disabled")}},{key:"_toggleBtnForm",value:function(){return this._form.checkValidity()?this._activateSubmitButton():this._deactivateSubmitButton()}},{key:"resetValidation",value:function(){var e=this;this._toggleBtnForm(),this._inputList.forEach((function(t){return e._hideInputError(t)}))}},{key:"_setInputEventListeners",value:function(){var e=this;this._toggleBtnForm(),this._inputList.forEach((function(t){t.addEventListener("input",(function(i){e._isValid(t,t.validationMessage),e._toggleBtnForm()}))})),this._form.addEventListener("reset",(function(){e._deactivateSubmitButton()}))}},{key:"enableValidation",value:function(){this._setInputEventListeners()}}])&&t(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),e}();function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(r)?r:String(r)),o)}var r}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this.popupOpenedClass="popup_opened",this._popup=document.querySelector(this._popupSelector),this._closeBtn=this._popup.querySelector(".popup__close"),this._handleEscClose=this._handleEscClose.bind(this),this._handleOverlayClose=this._handleOverlayClose.bind(this),this._disableRoot=this._disableRoot.bind(this),this.close=this.close.bind(this),this.open=this.open.bind(this),this._root=document.querySelector(".root"),this.setEventListeners()}var t,i;return t=e,i=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"_disableRoot",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._root.classList[e?"add":"remove"]("_disabled")}},{key:"open",value:function(){this._popup.classList.add(this.popupOpenedClass),this._disableRoot(),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove(this.popupOpenedClass),this._disableRoot(!1),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._closeBtn.addEventListener("click",(function(){return e.close()})),this._popup.addEventListener("click",this._handleOverlayClose)}}],i&&o(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),s=document.querySelector(".root"),a=s.querySelector(".menu-burger"),l=s.querySelectorAll(".menu-burger__item"),u=s.querySelector(".header__outer"),c=s.querySelectorAll(".header__nav-link"),p=s.querySelector("#kinds-slider"),_=s.querySelector("#steps-slider"),h=s.querySelector("#quotes-slider"),d=s.querySelector("#projects-slider"),v=s.querySelectorAll('[data-open-popup=""]'),f=s.querySelector(".request-popup__input_type_tel"),m=window.matchMedia("(min-width: 1010px)").matches;function y(){var e=!u.classList.contains("_opened");!function(e){u.classList[e?"add":"remove"]("_opened"),l.forEach((function(t){t.classList[e?"add":"remove"]("menu-burger__item_active")}))}(e),!m&&b(e)}var b=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.classList[e?"add":"remove"]("_disabled")};a.addEventListener("click",y),c.forEach((function(e){e.addEventListener("click",(function(){return y()}))})),new Swiper(p,{spaceBetween:20,speed:m?1e3:800,navigation:{nextEl:".kinds__btn-next",prevEl:".kinds__btn-prev"}}),new Swiper(_,{spaceBetween:20,slidesPerView:"auto",speed:800,navigation:{nextEl:".steps__btn-next",prevEl:".steps__btn-prev"}}),new Swiper(h,{spaceBetween:20,slidesPerView:"auto",speed:800,navigation:{nextEl:".quotes__btn-next",prevEl:".quotes__btn-prev"}}),new Swiper(d,{effect:m&&"fade",spaceBetween:20,speed:800,autoplay:m&&{delay:2500,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:{nextEl:".projects__btn-next",prevEl:".projects__btn-prev"}});var E=new r(".request-popup"),g=(new r(".confirm-popup"),function(){E.open()});v.forEach((function(e){e.addEventListener("click",g)})),new IMask(f,{mask:"+{7}-000-000-00-00"}),Array.from(document.forms).forEach((function(e){new i({formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible",errorConfig:{first_name:{valueMissing:"Заполните имя"},phone_number:{valueMissing:"Заполните номер телефона"}}},e).enableValidation()}))})();